{{define "new"}}{{if .}}new{{else}}New{{end}}{{end -}}
{{define "args"}}{{range .}}{{.Name.Argument}} {{template "star" .}}{{.Type.Prefix}}{{template "ex-pkg" .}}{{.Type.Name}}, {{end}}{{end -}}
{{define "star"}}{{if .Type.IsStar}}*{{end}}{{end}}
{{define "ex-pkg"}}{{if .Type.Package}}{{.Type.Package}}.{{end}}{{end}}

{{$f := . -}}
// Code generated by gcg. DO NOT EDIT.

package {{$f.File.Package}}
{{range $s := $f.File.Structs}}
func {{template "new" $f.IsPrivate}}{{title $s.Name}} ({{template "args" $s.Fields}}) *{{$s.Name}} {
  return &{{$s.Name}} {
  {{- range $v := $s.Fields}}
    {{$v.Name.Original}}: {{$v.Name.Argument}},
  {{- end}}
  }
}
{{end}}
